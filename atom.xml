<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Louis Simoneau]]></title>
  <link href="http://lsimoneau.github.io/atom.xml" rel="self"/>
  <link href="http://lsimoneau.github.io/"/>
  <updated>2014-03-09T08:09:01+11:00</updated>
  <id>http://lsimoneau.github.io/</id>
  <author>
    <name><![CDATA[Louis Simoneau]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Debugging Scroll Event Issues in Capybara/Poltergeist]]></title>
    <link href="http://lsimoneau.github.io/2014/01/12/debugging-scroll-event-issues-in-capybara-slash-poltergeist/"/>
    <updated>2014-01-12T08:22:00+11:00</updated>
    <id>http://lsimoneau.github.io/2014/01/12/debugging-scroll-event-issues-in-capybara-slash-poltergeist</id>
    <content type="html"><![CDATA[<p>I came across a particularly tricky issue with one of my integration tests using <a href="https://github.com/jnicklas/capybara">capybara</a> and <a href="https://github.com/jonleighton/poltergeist">poltergeist</a> this week, so I thought I&rsquo;d write it up for the benefit of anyone else encountering a similar problem.</p>

<h2>The Issue</h2>

<p>A key step in the workflow under test was clicking on a &ldquo;Publish&rdquo; button located at the bottom of the page. This test had been passing for some time, but started failing when we added a floating toolbar to the site.</p>

<p>The toolbar was of the type that appears as part of the document layout until the user scrolls past it, at which point it attaches itself to the top of the viewport.</p>

<p>The original code for the toolbar looked something like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='coffeescript'><span class='line'><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span> <span class="nf">-&gt;</span>
</span><span class='line'>  <span class="nv">toolbar = </span><span class="nx">$</span><span class="p">(</span><span class="s">&#39;.toolbar&#39;</span><span class="p">)</span>
</span><span class='line'>  <span class="nv">header  = </span><span class="nx">$</span><span class="p">(</span><span class="s">&#39;.header&#39;</span><span class="p">)</span>
</span><span class='line'>  <span class="nv">start   = </span><span class="nx">toolbar</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">top</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">$</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span> <span class="s">&quot;scroll&quot;</span><span class="p">,</span> <span class="nf">-&gt;</span>
</span><span class='line'>    <span class="nv">pos = </span><span class="nb">parseInt</span> <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">scrollTop</span><span class="p">()</span>
</span><span class='line'>    <span class="nx">toolbar</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s">&quot;position&quot;</span><span class="p">,</span> <span class="k">if</span> <span class="nx">pos</span> <span class="o">&gt;</span> <span class="nx">start</span> <span class="k">then</span> <span class="s">&quot;fixed&quot;</span> <span class="k">else</span> <span class="s">&quot;static&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="nx">header</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s">&quot;padding-bottom&quot;</span><span class="p">,</span> <span class="k">if</span> <span class="nx">pos</span> <span class="o">&gt;</span> <span class="nx">start</span> <span class="k">then</span> <span class="nx">toolbar</span><span class="p">.</span><span class="nx">height</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
</span><span class='line'>  <span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>When scrolling past the toolbar, the <code>position</code> attribute is switched from <code>static</code> to <code>fixed</code>. Because this yanks the content in the toolbar out of the document flow, it causes the rest of the page to jump upwards to fill the now-empty space, so we apply padding to the header equal to the toolbar&rsquo;s height to compensate.</p>

<p>With this code in place, the test started failing. Some quick debugging showed that the click on the publish button just wasn&rsquo;t happening (no <code>click</code> events were fired). Usually, if Capybara can&rsquo;t find the element you&rsquo;ve told it to click on, it will throw an error, but in this case it was just failing silently. Remove the fixed toolbar, test goes green again.</p>

<h2>The Solution</h2>

<p>The key insight towards solving this issue came when I added debug code to the <code>scroll</code> event handler shown above. The page was actually scrolling during the execution of the test.</p>

<p><a href="https://github.com/jonleighton/poltergeist#mouseeventfailed-errors">Poltergeist&rsquo;s documentation</a> explains why:</p>

<blockquote><p>When Poltergeist clicks on an element, rather than generating a DOM click event, it actually generates a &ldquo;proper&rdquo; click. This is much closer to what happens when a real user clicks on the page &ndash; but it means that Poltergeist must scroll the page to where the element is, and work out the correct co-ordinates to click. If the element is covered up by another element, the click will fail (this is a good thing &ndash; because your user won&rsquo;t be able to click a covered up element either).</p></blockquote>

<p>The problem arises because of the way the fixed toolbar is implemented: <em>first</em> it pulls the toolbar out of the document flow, <em>then</em> it compensates with padding.</p>

<p>This results in two page redraws, and an imperceptibly fast jitter in the position of elements on the page. But since poltergeist is operating much faster than a human with a mouse, the time delay between scrolling the page and clicking the button (or, more accurately, clicking the coordinates where it expects the button to be) is negligible. As a result, it clicks while the page is jumping and misses the button.</p>

<p>There are a number of possible fixes here. It&rsquo;s possible to tell Poltergeist to just trigger a click event on the element rather than scrolling to it and clicking on its coordinates:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">find_button</span><span class="p">(</span><span class="s2">&quot;Save&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">trigger</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Instead of:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">click_button</span> <span class="s2">&quot;Save&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>This solves the problem, but does away with one of the main benefits of using Poltergeist in the first place: it directly emulates the behavior of a user navigation the site. If an element is covered up by something else, Poltergeist will be unable to click on it, just like a user.</p>

<p>The solution I ended up with was to change the implementation: rather than apply CSS to two different elements in quick succession, I apply a class to the page body. Because the padding is variable and needs to be toggled on and off in CSS only, I moved it to a shim element that&rsquo;s hidden by default. The body class both applies <code>fixed</code> position <em>and</em> unhides the shim:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='coffeescript'><span class='line'><span class="nv">shim    = </span><span class="nx">$</span><span class="p">(</span><span class="s">&#39;.scroll-shim&#39;</span><span class="p">)</span>
</span><span class='line'><span class="nv">toolbar = </span><span class="nx">$</span><span class="p">(</span><span class="s">&#39;.toolbar&#39;</span><span class="p">)</span>
</span><span class='line'><span class="nv">start   = </span><span class="nx">toolbar</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">top</span>
</span><span class='line'>
</span><span class='line'><span class="nx">$</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span> <span class="s">&quot;scroll&quot;</span><span class="p">,</span> <span class="nf">-&gt;</span>
</span><span class='line'>  <span class="nv">pos = </span><span class="nb">parseInt</span> <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">scrollTop</span><span class="p">()</span>
</span><span class='line'>  <span class="nx">shim</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s">&quot;padding-bottom&quot;</span><span class="p">,</span> <span class="nx">toolbar</span><span class="p">.</span><span class="nx">height</span><span class="p">())</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">$</span><span class="p">(</span><span class="s">&#39;body&#39;</span><span class="p">).</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s">&#39;scrolling-header&#39;</span><span class="p">,</span> <span class="nx">pos</span> <span class="o">&gt;</span> <span class="nx">start</span><span class="p">)</span>
</span><span class='line'><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>And in CSS:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='coffeescript'><span class='line'><span class="p">.</span><span class="nx">scroll</span><span class="o">-</span><span class="nx">shim</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">display: </span><span class="nx">none</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">.</span><span class="nx">toolbar</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">position: </span><span class="nx">static</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">.</span><span class="nx">scrolling</span><span class="o">-</span><span class="nx">header</span> <span class="p">{</span>
</span><span class='line'>  <span class="p">.</span><span class="nx">scroll</span><span class="o">-</span><span class="nx">shim</span> <span class="p">{</span>
</span><span class='line'>    <span class="nv">display: </span><span class="nx">block</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="p">.</span><span class="nx">toolbar</span> <span class="p">{</span>
</span><span class='line'>    <span class="nv">position: </span><span class="nx">fixed</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Because it only redraws the page once, this version doesn&rsquo;t cause content to jump around and allows Poltergeist to click on the button without issue. Although there&rsquo;s no perceptible difference when viewing the page, it <em>is</em> actually requiring the browser to do a bit less work, so it&rsquo;s even hypothetically possible that on slow hardware a user might see the benefit as well.</p>

<h2>Summary</h2>

<p>When using Poltergeist in combination with any JavaScript code that triggers off of <code>scroll</code> events, it&rsquo;s important to keep in mind that Poltergeist <em>will</em> scroll the page when required to get to an element you&rsquo;ve asked it to interact with. This isn&rsquo;t a bug, it&rsquo;s a feature: it allows for a closer emulation of a user interacting with your site, and might enable you to pick up issues that other drivers wouldn&rsquo;t surface.</p>

<p>However, if you&rsquo;re modifying the page in response to scroll events, you run the risk of introducing subtle race conditions like the one I&rsquo;ve described. In this particular case, there was a solution that improved both the performance of the page <em>and</em> the test behavior.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[What’s the Worst Mistake I’m Empowered to Make?]]></title>
    <link href="http://lsimoneau.github.io/2013/10/25/whats-the-worst-mistake-im-empowered-to-make/"/>
    <updated>2013-10-25T21:39:00+11:00</updated>
    <id>http://lsimoneau.github.io/2013/10/25/whats-the-worst-mistake-im-empowered-to-make</id>
    <content type="html"><![CDATA[<p>A few days ago a coworker of mine ordered a glass of beer in a pub while waiting for some pizzas to bring back to the office. After taking a big gulp, he immediately felt a burning sensation in his mouth and throat, and knew something was wrong. It turned out that the pub had recently cleaned the beer tap lines with a potent cleaning fluid, and it hadn&rsquo;t all been flushed out. The result was that my friend spent a night in the hospital, and was unable to eat anything for over a day due to the swelling and pain in his throat. It&rsquo;s still not totally clear what his path to recovery will be like.</p>

<p>When I told the story to another friend, his reaction was &ldquo;Wow. It&rsquo;s almost like, as a barman, what&rsquo;s the worst mistake I&rsquo;m empowered to make?&rdquo; And it&rsquo;s true. Quite literally, there&rsquo;s not a thing you can do in the execution of a bartender&rsquo;s job that is worse than serving a customer highly caustic cleaning fluid in their drink.</p>

<p>And that got me thinking. What&rsquo;s the worst mistake <em>I&rsquo;m</em> empowered to make? Take the site down? Nope, pretty easy to have it back up in a few minutes, little harm done. Commit a bug to production? It would have to be a whopper. Really, the worst thing I think I&rsquo;m empowered to do is lose data. If I break something such that, even if we recover, we&rsquo;ve lost some user data, that&rsquo;s deadly. I can&rsquo;t think of any other single misstep that would be more damaging to the company.</p>

<p>As soon as I came up with that answer, I realized I actually spend quite a lot of time thinking about it. Ever since the first time I shelled in to a production server, and not infrequently since, this little voice at the back of my head asks: <em>Are you about to hose any data?</em> Every time I&rsquo;m running complex migrations, or implement a new feature that alters data in a major why, it&rsquo;s always there: <em>Don&rsquo;t do the wost thing you could possibly do.</em></p>

<p>Let me be clear: avoiding catastrophic fuckups isn&rsquo;t what I consider the hallmark of a great software developer, or a great anything for that matter. To be <em>great</em>, you need to succeed greatly, not simply avoid failure. But coming back to the example of the pub: this was a <em>really good</em> pub. Fantastic selection of craft beers, best pizzas in the area by a wide margin, and a very welcoming atmosphere. But I still won&rsquo;t be going back there, because, well, obviously: they poisoned a friend of mine.</p>

<p>So it&rsquo;s probably worth spending a little bit of time, every once in awhile, asking yourself what the worst possible mistake you&rsquo;re empowered to make is. And putting in place whatever safeguards seem reasonable to stop yourself from making it.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Quarterly Reading List: January-March 2013]]></title>
    <link href="http://lsimoneau.github.io/2013/04/08/quarterly-reading-list-january-march-2013/"/>
    <updated>2013-04-08T00:00:00+10:00</updated>
    <id>http://lsimoneau.github.io/2013/04/08/quarterly-reading-list-january-march-2013</id>
    <content type="html"><![CDATA[<p>I thought I&#8217;d start posting quarterly breakdowns of the books I&#8217;ve been reading, partly just to share stuff I&#8217;ve been enjoying, but mostly to shame myself into reading more my holding myself publicly accountable.</p>

<p>Here&#8217;s the first edition. Since the start of the year, I&#8217;ve finished four books. Pretty weak, I admit, but I&#8217;ve also had a child, so that&#8217;s my excuse:</p>

<p><a href="http://www.amazon.com/Glasshouse-ebook/dp/B00486U2U0/ref=tmm_kin_title_0" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.amazon.com']);"><strong><em>Glasshouse</em>, by Charles Stross.</strong></a> Possibly my new all-time favourite science fiction novel. Filled to bursting with ideas, it manages to create a plausible post-scarcity, post-&#8221;singularity&#8221; universe and a hugely compelling story at the same time. Can&#8217;t recommend it highly enough.</p>

<p><strong><em>How Much Is Enough? Money And The Good Life</em>, by Robert and Edward Sidelsky.</strong> A philosophical examination of modern Western society&#8217;s organisation, questioning how little of the gains in economic productivity of the last 50 years have gone towards improving average standards of living, framed in terms of &#8220;the good life&#8221;. The book was often overly academic in tone, but it drew on some interesting research and raised some (I think) very pertinent questions.</p>

<p><strong><em>Carbon Zero: Imagining Cities that can Save the Planet</em>, by Alex Steffen</strong>. A short book, available <a href="http://grist.org/carbon-zero/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://grist.org']);">for free online in full</a>, examining the role that urbanism can (and must) play in staving off the worst of the climate crisis. Steffen&#8217;s argument is compelling: converting the entire automobile fleet to hybrid or electric vehicles would take decades even if every car sold today were such a model, and likewise replacing the entire power generation grid with renewables is an enormous undertaking. But with the coming boom in urban development across the world, there&#8217;s real potential to make drastic reductions in carbon emissions with innovations in walkable urbanism, transport, and building technology.</p>

<p><strong><em>The Last Policeman</em>, by Ben Winters</strong>. (<a href="http://www.amazon.com/The-Last-Policeman-Novel-ebook/dp/B0076Q1GW2/ref=tmm_kin_title_0" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.amazon.com']);">Currently for sale for $2.99 on the Kindle store</a>.) A fun noir detective story, with the clever twist that it&#8217;s set in a world where a giant asteroid is months away from colliding with Earth and ending civilization as we know it. It took me a while to get into this one, as the noir tropes and first person narration felt a bit over the top, though in retrospect it&#8217;s clear that was the intent. All in all, it was a captivating mystery, and I&#8217;ve pre-ordered the next book in the trilogy, <a href="http://www.amazon.com/Countdown-City-Last-Policeman-ebook/dp/B00B6OV90E/ref=sr_1_1?s=digital-text&#038;ie=UTF8&#038;qid=1365421093&#038;sr=1-1&#038;keywords=ben+winters" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.amazon.com']);">due to be released in July</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[PostgreSQL System Trigger Error With Rails]]></title>
    <link href="http://lsimoneau.github.io/2012/10/04/postgresql-system-trigger-error-with-rails/"/>
    <updated>2012-10-04T00:00:00+10:00</updated>
    <id>http://lsimoneau.github.io/2012/10/04/postgresql-system-trigger-error-with-rails</id>
    <content type="html"><![CDATA[<p><code>PG::Error: ERROR:  permission denied: "RI_ConstraintTrigger_50931" is a system trigger</code></p>

<p>Just ran into this issue and had a hard time locating a solution, so just throwing it up here so others might be able to find it faster.</p>

<p>You might see this error message if:</p>

<ul>
<li>You&#8217;re using PostgreSQL with Rails</li>
<li>You&#8217;re using foreign key constraints</li>
<li>You&#8217;re using <a href="https://github.com/bmabey/database_cleaner" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">database_cleaner</a> to tear down your test databases</li>
</ul>


<p>The problem is this: Postgres sets up foreign key constraints as &#8220;system triggers,&#8221; which can only be removed by a superuser. When database_cleaner tries to empty out your database between test runs, it tries to remove these keys, which causes the failure.</p>

<p>Currently there isn&#8217;t a &#8220;real&#8221; fix for this, but Sergey Potapov has bundled together the required hacks into a gem called <a href="https://github.com/greyblake/rails3_pg_deferred_constraints" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">rails3_pg_deferred_constraints</a>. Pop it into your test group and you should be good to go.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[I ♥ Tomato Season]]></title>
    <link href="http://lsimoneau.github.io/2012/02/05/i-%e2%99%a5-tomato-season/"/>
    <updated>2012-02-05T00:00:00+11:00</updated>
    <id>http://lsimoneau.github.io/2012/02/05/i-♥-tomato-season</id>
    <content type="html"><![CDATA[<p><a href="http://louissimoneau.com/wp-content/uploads/2012/02/IMG_5165.jpg" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://louissimoneau.com']);"><img src="http://louissimoneau.com/wp-content/uploads/2012/02/IMG_5165-1024x682.jpg" alt="" title="IMG_5165" width="680" height="452" class="alignnone size-large wp-image-251" /></a><br/>
<a href="http://louissimoneau.com/wp-content/uploads/2012/02/IMG_5168.jpg" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://louissimoneau.com']);"><img src="http://louissimoneau.com/wp-content/uploads/2012/02/IMG_5168-1024x682.jpg" alt="" title="IMG_5168" width="680" height="452" class="alignnone size-large wp-image-252" /></a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Keeping Time on Frequently-suspended Virtual Machines]]></title>
    <link href="http://lsimoneau.github.io/2012/02/02/keeping-time-on-frequently-suspended-virtual-machines/"/>
    <updated>2012-02-02T00:00:00+11:00</updated>
    <id>http://lsimoneau.github.io/2012/02/02/keeping-time-on-frequently-suspended-virtual-machines</id>
    <content type="html"><![CDATA[<p>When everyone else&#8217;s git commits start showing up as &#8220;in the future,&#8221; you know something&#8217;s wrong.</p>

<p>It&#8217;s probably that your VM, having been suspended while your host OS was sleeping, has lost track of what time it is. You <em>could</em> <code>/etc/init.d/networking restart</code> every time you start work in the morning, but that&#8217;s a drag, and you&#8217;re likely to forget.</p>

<p>Instead, you want to use the NTP daemon to keep your clock in sync. By default, however, NTP will attempt to gradually and incrementally bring your clock back into sync, and will balk at large differences in time (like the 14 hours since you last opened your laptop). Fortunately, there&#8217;s a config setting for that.</p>

<p>Let&#8217;s do this thing:</p>

<pre><code>sudo apt-get install ntp
</code></pre>

<p>Then replace your <code>/etc/ntp.conf</code> file with the following:</p>

<pre><code>tinker panic 0

restrict 127.0.0.1
restrict default kod nomodify notrap

server 0.au.pool.ntp.org
server 1.au.pool.ntp.org
server 2.au.pool.ntp.org
server 3.au.pool.ntp.org

driftfile /var/lib/ntp/ntp.drift
</code></pre>

<p>Replace those <code>server</code> lines with NTP servers of your choosing.</p>

<p>The important line there is <code>tinker panic 0</code>, which is what tells NTP not to freak out if the difference in time between the local clock and the server is larger than it would normally be comfortable with. This line <strong>needs</strong> to come <strong>before</strong> all other config directives.</p>

<p>With that config in place, fire off a quick</p>

<pre><code>sudo /etc/init.d/ntp restart
</code></pre>

<p>and you&#8217;re in business. Next time you bring your VM back up from a deep slumber, hit <code>date</code> and you&#8217;ll be pleasantly surprised.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Plato on #OWS]]></title>
    <link href="http://lsimoneau.github.io/2011/10/26/plato-on-ows/"/>
    <updated>2011-10-26T00:00:00+11:00</updated>
    <id>http://lsimoneau.github.io/2011/10/26/plato-on-ows</id>
    <content type="html"><![CDATA[<blockquote><p>They alone, therefore, of all the citizens are forbidden to touch or handle silver or gold; they must not come under the same roof as them, nor wear them as ornaments, nor drink from vessels made of them. Upon this their safety and that of the state depends. If they acquire private property in land, houses, or money, they will become farmers and men of business instead of Guardians, and harsh tyrants instead of partners in their dealings with their fellow citizens, with whom they will live on terms of mutual hatred and suspicion; they will be more afraid of internal revolt than external attack, and be heading fast for destruction that will overwhelm the whole community.<br/>
<cite>Plato, <em>The Republic</em></cite></p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[The True Cost of Commuting]]></title>
    <link href="http://lsimoneau.github.io/2011/10/11/the-true-cost-of-commuting/"/>
    <updated>2011-10-11T00:00:00+11:00</updated>
    <id>http://lsimoneau.github.io/2011/10/11/the-true-cost-of-commuting</id>
    <content type="html"><![CDATA[<p><a href="http://www.mrmoneymustache.com/2011/10/06/the-true-cost-of-commuting/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.mrmoneymustache.com']);">The True Cost of Commuting</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[This Is a News Website Story About a Scientific Paper]]></title>
    <link href="http://lsimoneau.github.io/2010/10/04/this-is-a-news-website-story-about-a-scientific-paper/"/>
    <updated>2010-10-04T00:00:00+11:00</updated>
    <id>http://lsimoneau.github.io/2010/10/04/this-is-a-news-website-story-about-a-scientific-paper</id>
    <content type="html"><![CDATA[<p>A <a href="http://www.guardian.co.uk/science/the-lay-scientist/2010/sep/24/1" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.guardian.co.uk']);">great piece of satire</a> about mainstream media science reporting from Martin Robbins&#8217; The Lay Scientist over at The Guardian.</p>

<p>Full of gems like:</p>

<blockquote><p>This paragraph elaborates on the claim, adding weasel-words like &#8220;the scientists say&#8221; to shift responsibility for establishing the likely truth or accuracy of the research findings on to absolutely anybody else but me, the journalist.</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Joell Ortiz &#8212; Farewell to Summer EP]]></title>
    <link href="http://lsimoneau.github.io/2010/09/16/joell-ortiz-farewell-to-summer-ep/"/>
    <updated>2010-09-16T00:00:00+10:00</updated>
    <id>http://lsimoneau.github.io/2010/09/16/joell-ortiz-farewell-to-summer-ep</id>
    <content type="html"><![CDATA[<p>Joell Ortiz&#8217;s new free EP <a href="http://www.2dopeboyz.com/2010/09/10/joell-ortiz-farewell-summer-ep/">Farewell Summer</a> is fire.</p>

<blockquote><p>I&#8217;m so hot, I could stand still and pour sweat
In the North Pole, fully naked with my balls wet</p></blockquote>

<p>Damn.</p>

<p>Check out this track, So Wrong, featuring Talib Kweli, Brother Ali, and Jean Grae (talk about an all-star lineup):</p>

<iframe width="100%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/5208860"></iframe>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[CBC Radio&#8217;s Ideas Bats One Out the Park]]></title>
    <link href="http://lsimoneau.github.io/2010/05/12/cbc-radios-ideas-bats-one-out-the-park/"/>
    <updated>2010-05-12T00:00:00+10:00</updated>
    <id>http://lsimoneau.github.io/2010/05/12/cbc-radios-ideas-bats-one-out-the-park</id>
    <content type="html"><![CDATA[<p>A great program all-round, <em>Ideas</em>, from CBC Radio, recently ran a two part round-table discussion on secularism in modern democracies that was just fantastic. A reasoned, in-depth, and principled discussion that steered clear of all the usual empty rhetoric on the topic. If you&#8217;ve got two hours of listening time at any point in the next few weeks, this is most definitely how I&#8217;d recommend you spend them.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Webby Award Winners for Design, Flashblock Edition]]></title>
    <link href="http://lsimoneau.github.io/2010/05/10/webby-award-winners-for-design-flashblock-edition/"/>
    <updated>2010-05-10T00:00:00+10:00</updated>
    <id>http://lsimoneau.github.io/2010/05/10/webby-award-winners-for-design-flashblock-edition</id>
    <content type="html"><![CDATA[<p>Last week the winners of the <a href="http://www.webbyawards.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.webbyawards.com']);">2010 Webby awards</a> were announced. Jennifer Farley, one of the staff bloggers at SitePoint (where I work), recently <a href="http://www.sitepoint.com/blogs/2010/05/09/webby-award-winners-design/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.sitepoint.com']);">posted a breakdown</a> of five of the winners in design-related categories, along with her impressions of the sites in question. I think that&#8217;s a great idea, so I&#8217;m going to write my own version of that post, examining the same five winning sites.</p>

<p><strong>Best Homepage/Welcome page</strong></p>

<p>This category was won by <a href="http://malecopywriter.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://malecopywriter.com']);">Male Copywriter</a>. Here&#8217;s what that site looks like:</p>

<p><img class="alignnone size-full wp-image-60" title="copywriter" src="http://lsimoneau.github.io/wp-content/uploads/2010/05/copywriter1.png" alt="" /></p>

<p>I like the understated aesthetic and the use of black to convey authority.</p>

<p><strong>Best Structure/Navigation</strong></p>

<p>The winner in this category was <a href="http://www.hboimagine.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.hboimagine.com']);">HBO/Imagine</a>. Here&#8217;s a screenshot of that site:</p>

<p><img class="alignnone size-full wp-image-61" title="hbo" src="http://lsimoneau.github.io/wp-content/uploads/2010/05/hbo1.png" alt="" /></p>

<p>Again, a simple, clean design that really speaks to the modern web audience. I love it.</p>

<p><strong>Best Use Of Animation/Motion Graphics</strong></p>

<p>The winner in this category is <a href="http://thepopshoppe.com/">The Pop Shoppe</a>. A very interesting design, shown here:</p>

<p><img class="alignnone size-full wp-image-63" title="popshoppe" src="http://lsimoneau.github.io/wp-content/uploads/2010/05/popshoppe1.png" alt="" /></p>

<p><strong>Best Use Of Photography</strong></p>

<p>This category was won by <a href="http://thinkingspace.economist.com/">The Economist: Thinking Space</a>, with a stark design that really lets the photos speak for themselves:</p>

<p><img class="alignnone size-full wp-image-64" title="economist" src="http://lsimoneau.github.io/wp-content/uploads/2010/05/economist1.png" alt="" /></p>

<p><strong>The Best Visual Design – Aesthetic</strong></p>

<p>Finally, this coveted category went to <a href="http://www.nike.com/jumpman23/historyofflight/">Nike&#8217;s Jordan: History of Flight</a> site:</p>

<p><img class="alignnone size-full wp-image-65" title="jordan" src="http://lsimoneau.github.io/wp-content/uploads/2010/05/jordan1.png" alt="" width="540" height="300" /></p>

<p>Again, a minimalist style makes this website a clear winner.</p>

<p><strong>Conclusion</strong></p>

<p>I think the Webby awards have done a fantastic job highlighting the best of web design in 2010, across the full range of available technologies and adhering to the open principles that give the Web its true strength.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Free Wireframe Kit for Google Drawings]]></title>
    <link href="http://lsimoneau.github.io/2010/04/19/free-wireframe-kit-for-google-drawings/"/>
    <updated>2010-04-19T00:00:00+10:00</updated>
    <id>http://lsimoneau.github.io/2010/04/19/free-wireframe-kit-for-google-drawings</id>
    <content type="html"><![CDATA[<p>I&#8217;m a big fan of <a href="http://gomockingbird.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://gomockingbird.com']);">Mockingbird</a> for creating quick mockups and wireframes. It&#8217;s free, it&#8217;s online, and it does just about everything you want it to do.</p>

<p>That said, a bit of choice never hurt anyone, so it&#8217;s interesting to see that Google Drawings, the recent addition to the Google Docs family, can be used quite effectively as a wireframing tool.</p>

<p><a href="http://mortenjust.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mortenjust.com']);">Morten Just</a> wrote a <a href="http://mortenjust.com/2010/04/19/a-wireframe-kit-for-google-drawings/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mortenjust.com']);">blog post</a> describing how he uses it for that purpose, but even more awesomely he&#8217;s shared a <a href="http://docs.google.com/drawings/edit?id=1PplF62IplwQ4SaabsR9P8HAw7mhilR1MTe71QMMr8iA&hl=en_GB" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://docs.google.com']);">drawing</a> with an extensive selection of shapes, stencils, and widgets sitting in the margin ready for use. With the help of this &#8220;wireframe kit,&#8221; Google Drawings really does stack up quite well against dedicated wireframing tools.</p>

<p>Just open the <a href="http://docs.google.com/drawings/edit?id=1PplF62IplwQ4SaabsR9P8HAw7mhilR1MTe71QMMr8iA&hl=en_GB" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://docs.google.com']);">document</a>, select File &ndash;> Make a copy, and you&#8217;re off to the races with a fantastic toolkit containing text input boxes, icons, check boxes, flowchart boxes, tabs, buttons, you name it.</p>

<p>Huge props to Morten for sharing this toolkit with the public.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[NUMMI | This American Life]]></title>
    <link href="http://lsimoneau.github.io/2010/04/14/nummi-this-american-life/"/>
    <updated>2010-04-14T00:00:00+10:00</updated>
    <id>http://lsimoneau.github.io/2010/04/14/nummi-this-american-life</id>
    <content type="html"><![CDATA[<p>Episode 403 of This American Life has a fascinating story about the US auto industry and how GM missed a golden opportunity to correct its course and save itself.</p>

<p>There&#8217;s a lot of interesting business theory in there, but even if that&#8217;s not your thing it&#8217;s great to have a window into this aspect of the history of the 20th and early 21st century.</p>

<p>Highly recommended.</p>

<p><a href="http://www.thisamericanlife.org/radio-archives/episode/403/nummi" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.thisamericanlife.org']);">NUMMI | This American Life</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Trust Agents Review]]></title>
    <link href="http://lsimoneau.github.io/2010/04/09/trust-agents-review/"/>
    <updated>2010-04-09T00:00:00+10:00</updated>
    <id>http://lsimoneau.github.io/2010/04/09/trust-agents-review</id>
    <content type="html"><![CDATA[<p>On the recommendation of our <a href="http://twitter.com/shaynet" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://twitter.com']);">marketing guy</a>, I&#8217;ve recently been listening to the audiobook version of <a href="http://www.trustagent.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.trustagent.com']);"><em>Trust Agents</em></a>, by Chris Brogan and Julien Smith.</p>

<p>The book aims to teach the reader how to become a &#8220;trust agent,&#8221; an expression the authors use to describe someone who leverages the power of trust in the online word. It&#8217;s a far cry from my usual reading material, but since my job requires some level of interaction with an online community, I figured the topic would be worth trying to learn more about.</p>

<p>I&#8217;m into the book&#8217;s last chapter now, so I feel like I can give my thoughts on it. My initial impression was a bad one, though that&#8217;s at least partly because I felt like I already knew everything it was trying to teach, and it didn&#8217;t seem like a point was being made. The first chapter is an outline of the current state of social media and how it relates to the concept of trust. The second chapter is an odd one, basically saying &#8220;Make your own game!&#8221; (as in, don&#8217;t try to win by the rules of the existing system) over and over again without ever giving you an idea of what that means in practical terms. And the third chapter essentially teaches you that you should behave in social media the same way you behave in real life, i.e. don&#8217;t spam your Facebook friends with messages about your new product. Nothing terribly exciting so far.</p>

<p>The writing is a little dull at times, and a lot of the sentences feel awkward, so I was just about ready to give up at this point. I figured I&#8217;d press ahead since the book had been recommended to me, and to my surprise it managed to redeem itself in the second half. It&#8217;s given me some good ideas about networking and contact management that I can directly put into practice in my work, and that alone makes it worth the time invested.</p>

<p>So, on the whole, I&#8217;d recommend <em>Trust Agents</em>. Even if you only get one good idea about how to improve your online presence from it, it&#8217;s still probably worth the read. And all the advice it gives is good, and sorely needed if what we see on the Web every day is any indication.</p>

<p>That said, I can&#8217;t recommend the audio version. I love audiobooks in general because they let me get reading done in otherwise &#8220;dead&#8221; time, but for this title I&#8217;d much rather have bought the print version. The central problem is that it&#8217;s read by the authors (no offense, guys, but voice actors you ain&#8217;t). One of them seems to move his mouth away from the microphone at the end of sentences, leading to missing words. Both of them tend to fall into a very unnatural rhythm of speech, which leads to a repetitious pattern that seems like it&#8217;s trying too hard not to be monotonous. Compared with other audiobooks I&#8217;ve listened to, which are generally extremely professional and high-quality, this one feels like it was knocked out in one take on a Friday afternoon. Stick to dead trees if you&#8217;re planning on picking it up.</p>

<p>As a sort of post-script, I have one more nitpick, which I&#8217;m only including here on the off chance that either of the authors (or the editor) reads this: at the end of chapter six, when talking about appearing confident when approaching &#8220;web celebrities,&#8221; the author says &#8220;This also works when approaching an attractive member of the opposite sex.&#8221; Now, I understand that&#8217;s the kind of sentence that&#8217;s easy to write without even thinking about. But if you&#8217;re writing (or publishing) a book, assuming that all your readers are going to be heterosexual is a little dickish. Just sayin&#8217;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Jason Fried on Why You Can&#8217;t Work at Work]]></title>
    <link href="http://lsimoneau.github.io/2010/03/05/jason-fried-on-why-you-cant-work-at-work/"/>
    <updated>2010-03-05T00:00:00+11:00</updated>
    <id>http://lsimoneau.github.io/2010/03/05/jason-fried-on-why-you-cant-work-at-work</id>
    <content type="html"><![CDATA[<p><a href="http://bigthink.com/videos/why-you-cant-work-at-work">This video</a>, from Jason Fried (<a href="http://twitter.com/jasonFried" >@jasonfried</a>) of <a href="http://37signals.com/">37signals</a>, really hit home with me. I&#8217;m often guilty of being a little quick on the trigger to interrupt people when I have a question or want their input on something. I&#8217;m going to try to put some of this theory into application in my work at SitePoint and see if it helps both me and the rest of the publishing team to focus on getting things done.</p>

<p>What I take away from this, as a practical message, is the following: rely on the asynchronous nature of digital communication media to communicate with co-workers without interrupting their workflow. Simple, but it&#8217;s easy to forget when the person is working right next to you and it&#8217;s so easy to turn around and get their attention.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[I Love the Internet: Simple Font Stack Tester]]></title>
    <link href="http://lsimoneau.github.io/2010/03/04/i-love-the-internet-simple-font-stack-tester/"/>
    <updated>2010-03-04T00:00:00+11:00</updated>
    <id>http://lsimoneau.github.io/2010/03/04/i-love-the-internet-simple-font-stack-tester</id>
    <content type="html"><![CDATA[<p>I <a href="http://www.sitepoint.com/blogs/2010/03/02/keep-your-font-stacks-from-falling-over/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.sitepoint.com']);">blogged about testing font stacks earlier this week at SitePoint</a>, and pointed out a <a href="http://github.com/leeky/Font-Stack-Tester" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">very early-days project on GitHub</a> that seemed to be a first stab at developing a tool to simplify this kind of testing. Today I received an email from a reader, who apparently registered <a href="http://fontstacktester.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://fontstacktester.com']);" target="_blank"><a href="http://fontstacktester.com">http://fontstacktester.com</a></a> and set up a web-based interface for doing just that in the intervening time. The tool is an adaptation of the script I had found on GitHub, except that you can just plug your website address into a box and you&#8217;ll be transported there, except with an overlay at the top that lets you switch off every font on your site individually to see if it breaks anything.</p>

<p>Here&#8217;s what it looks like running against this site:</p>

<p><img class="alignnone size-full wp-image-15" title="Font Stack Tester Example" src="http://lsimoneau.github.io/wp-content/uploads/2010/03/font-stack-tester1.png" alt="" /></a></p>

<p>Kudos to Chris for getting this thing up and running so quickly!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[New SitePoint Post: Keep Your Font Stacks From Falling Over]]></title>
    <link href="http://lsimoneau.github.io/2010/03/02/new-sitepoint-post-keep-your-font-stacks-from-falling-over/"/>
    <updated>2010-03-02T00:00:00+11:00</updated>
    <id>http://lsimoneau.github.io/2010/03/02/new-sitepoint-post-keep-your-font-stacks-from-falling-over</id>
    <content type="html"><![CDATA[<p>For most web designers and developers, testing is a huge part of the job. They’ll devote a considerable amount of time ensuring that their sites appear similar, if not identical, in a wide range of browsers. One key part of site testing, however, seems to be all too frequently forgotten: font stack testing.</p>

<p><a href="http://www.sitepoint.com/blogs/2010/03/02/keep-your-font-stacks-from-falling-over/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.sitepoint.com']);">read the rest at sitepoint.com &#8230;</a></p>
]]></content>
  </entry>
  
</feed>
